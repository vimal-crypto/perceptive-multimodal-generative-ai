# PMG-AI Output Examples

This directory contains example outputs and results from the PMG-AI framework.

## Directory Structure

```
outputs/
├── depth_maps/          # Depth estimation outputs
│   ├── car_depth_output.jpg
│   └── depth_output.jpg
│
├── point_clouds/        # 3D point cloud files
│   ├── 3d_keypoints.ply
│   └── point_cloud.ply
│
├── comics/              # Generated comic panels
│   └── (Generated by comic_generation modules)
│
├── style_transfer/      # Style transferred images
│   └── (Generated by style_transfer modules)
│
└── meshes/              # 3D mesh files
    └── (Generated by mesh_generator)
```

## Sample Outputs from Drive

### Depth Maps
These are example depth estimation outputs generated using the MiDaS model:

- **car_depth_output.jpg** - Depth map of a car image
  - Generated using `depth_estimation.py` (midas_depth.py)
  - Shows depth information in grayscale/colormap
  - Used for 3D reconstruction pipeline

- **depth_output.jpg** - Additional depth map example
  - Demonstrates depth estimation on different scenes
  - Part of the 2D-to-3D reconstruction workflow

### Point Clouds
These are 3D point cloud files in PLY format:

- **3d_keypoints.ply** - 3D keypoint detection output
  - Contains 3D keypoint positions
  - Can be visualized in MeshLab, CloudCompare, or Open3D
  - Used for 3D reconstruction and analysis

- **point_cloud.ply** - Dense point cloud
  - Generated from depth maps
  - Includes position and color information (x, y, z, r, g, b)
  - Intermediate step for mesh generation

## Viewing Output Files

### Depth Maps (Images)
View using any image viewer or:
```python
from PIL import Image
import matplotlib.pyplot as plt

img = Image.open('outputs/depth_maps/car_depth_output.jpg')
plt.imshow(img)
plt.title('Depth Map')
plt.show()
```

### Point Clouds (PLY Files)

**Using Open3D:**
```python
import open3d as o3d

pcd = o3d.io.read_point_cloud('outputs/point_clouds/3d_keypoints.ply')
o3d.visualization.draw_geometries([pcd])
```

**Using MeshLab:**
- Download: http://www.meshlab.net/
- File → Import Mesh → Select PLY file
- Rotate and explore the 3D visualization

**Using CloudCompare:**
- Download: https://www.danielgm.net/cc/
- Open PLY files directly
- Advanced visualization and analysis tools

## Generating New Outputs

### Depth Maps
```bash
python src/pmg2/reconstruction_2d_3d/depth_estimation.py
```

### Point Clouds
```python
from src.pmg2.reconstruction_2d_3d.depth_estimation import MiDaSDepthEstimator

estimator = MiDaSDepthEstimator()
depth_map = estimator.estimate_depth('input/image.jpg')
point_cloud = estimator.create_point_cloud('input/image.jpg', depth_map)
```

### Comics
```python
from src.pmg1.comic_generation.stable_diffusion_comics import StableDiffusionComicGenerator

generator = StableDiffusionComicGenerator()
panel = generator.generate_comic_panel("a wizard casting a spell")
```

## File Formats

### Images
- **JPEG (.jpg)**: Depth maps, comic panels
- **PNG (.png)**: High-quality outputs with transparency

### 3D Data
- **PLY (Polygon File Format)**: Point clouds and meshes
  - ASCII or binary format
  - Contains vertex positions and colors
  - Widely supported by 3D software

- **OBJ**: 3D mesh format (future support)
- **STL**: 3D printing format (future support)

## Size Considerations

**Note**: Large output files (>25MB) are listed in `.gitignore` and not tracked in Git.

To add your own outputs:
1. Run the generation scripts
2. Outputs are automatically saved to these directories
3. Small example files (<5MB) can be committed
4. Large files should be stored separately (Google Drive, LFS, etc.)

## Output Quality

### Depth Maps
- Resolution: Matches input image size
- Format: 8-bit grayscale or colormapped
- Normalization: Scaled to [0, 255] range

### Point Clouds
- Point density: Depends on input image resolution
- Color: RGB from input image
- Format: PLY with vertex colors

## Related Files from Drive

Original files from Google Drive PMG folder:
- `car_depth_output.jpg` - Example depth output
- `depth_output.jpg` - Additional depth example  
- `3d_keypoints.ply` - 3D keypoints
- `point_cloud.ply` - Dense point cloud

See notebooks `2d and 3d.ipynb` and `Sidesh_Code.ipynb` for generation examples.

## Credits

Outputs generated using:
- **MiDaS**: Depth estimation (Intel ISL)
- **Stable Diffusion**: Comic generation (Stability AI)
- **Open3D**: Point cloud processing

---

**For questions about outputs**: Check the notebooks/ folder for detailed examples and tutorials.
